class Game
attr_accessor :board, :first_player, :second_player, :current_player

    def initialize
        @board = Board.new
        @first_player = ""
        @second_player = ""
        @current_player = ""
    end

    def run_game
        setup
        game_loop
        end_game
    end

    private

    def setup
        Display.welcome
        @first_player = Game.create_player("One")
        @second_player = Game.create_player("Two")
    end

    def game_loop
         until board.game_won? || board.grid_full?
            set_current
            player_turn


    def create_player(num)
        Display.name_prompt(num)
        name = gets.chomp
        unless num == "One"
            Player.new(name, "X")
        else Player.new(name, "O")
    end

    def set_current
        unless @current_player == @second_player
            @current_player = @second_player
        else @current_player = @first_player
        end
    end

    def player_turn
        set_current
        Display.turn_prompt(current_player.name)
        while input = gets.chomp
            unless valid_move?(input)
                invalid_move
            else change_board(input, current_player.symbol)
                break
        end
    end

    def end_game
        unless board.game_won?
            Display.tie_message
        else board.win_message(current_player.name)
        end
    end
end
